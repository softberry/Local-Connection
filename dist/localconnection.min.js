!function(){"use strict";function n(n){this.name="LocalConnectionCusomError. https://github.com/softberry/Local-Connection",this.message=n}function e(){for(var n=!0,e=this,t=0;t<e.frames.length;t++)null===e[e.frames[t]]&&(n=!1);return n}function t(n){var e=this;if(n===e.name)return window;var t=window;function o(n,t){for(var a=0;a<n.length;){var i=n.frames[a];if(a++,i.frames.length>0&&null===e[t]){var f=o(i,t);if(null!==f)return f}var u=r.call(e,i,t);if(null!==u)return u}return null}for(;t!==t.parent;)t=t.parent;for(var a=0;a<t.frames.length;){var i=t.frames[a];if(a++,i.frames.length>0&&null===e[n]){var f=o(i,n);if(null!==f)return f}var u=i.LC?r.call(e,i,n):null;if(null!==u)return u}return null}function r(n,t){try{if(n.LC.key===this.key&&n.LC.name===t&&n.LC.ready)return function(n){var t=this;n.LC.key===t.key&&(t[n.LC.name]=n);t.connected||e.call(t)&&(t.connected=!0,t.onConnect())}.call(n.LC,window),n}catch(n){return null}return null}window.LocalConnection=function(r){var o=this;window.LC=o,o.timestamp=0,function(e){try{if("object"!=typeof e)throw new n("LocalConnection required options key,name,frames must be defined!");if(!e.key)throw new n("key (UniqueKey) must be defined ");if(!e.name)throw new n("name is not defined. Each document needs a name as string (a-z,A-Z)");if(!e.frames)throw new n("frames are not defined. Give other document names in array");if("string"==typeof e.frames&&(e.frames=e.frames.split(",")),!Array.isArray(e.frames)||0===e.frames.length)throw new n("frame names should be comma separated string or an Array of stings.")}catch(n){return!0}return!1}(r)||(o.key=r.key,o.name=r.name,o.frames=r.frames,o.timeout=Number.parseInt(r.timeout,10)||0,o.onConnect=r.onConnect||function(){},o.onTimeout=r.onTimeout||function(){},o.timestamp=0===o.timeout?0:Date.now()+1e3*o.timeout,window.addEventListener?window.addEventListener("load",function(){o.ready=!0}):window.attachEvent("onload",function(){o.ready=!0}),o.ready="complete"===window.document.readyState,function n(){var r=this;if(r.timeout>0&&Date.now()>r.timestamp)return r.onTimeout();if(window.parent===window)return r.onTimeout();var o=0;for(o=0;o<r.frames.length;o++)r[r.frames[o]]=r[r.frames[o]]||t.call(r,r.frames[o]);r.connected=e.call(r),r.connected?r.onConnect():window.setTimeout(function(){n.call(r)},1e3)}.call(o))}}();